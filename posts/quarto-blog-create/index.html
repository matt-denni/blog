<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.28">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matt Dennis">
<meta name="dcterms.date" content="2022-07-18">

<title>blog - Blogging with Quarto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">blog</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">About</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/mattdenni"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Blogging with Quarto</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">quarto</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Matt Dennis </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 18, 2022</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>I’ve built this blog using RStudio’s Quarto publishing system. In this post, I’ll explain what I did.</p>
<blockquote class="blockquote">
<p>Note: This is a high level overview. For more details, refer to the <a href="https://quarto.org/">Quarto documentation</a>.</p>
</blockquote>
<section id="installation" class="level2">
<h2 class="anchored" data-anchor-id="installation">Installation</h2>
<p>Quarto allows you to create dynamic content using R, Python, Julia or Observable. I do most of my data science work in R, in RStudio, on my MacBook Pro or Linux Ubuntu machine. I already had R and RStudio installed on both machines.</p>
<p>To install quarto, you can visit <a href="https://quarto.org/docs/get-started">this page</a> and choose the correct installation file for your operating system. I didn’t do this though. On my Mac, I prefer to install software via homebrew, if possible. So I did this:</p>
<pre><code>brew install --cask quarto</code></pre>
<p>I haven’t installed quarto on my Ubuntu machine just yet.</p>
</section>
<section id="create-the-blog" class="level2">
<h2 class="anchored" data-anchor-id="create-the-blog">Create the blog</h2>
<p>Once you’ve got quarto installed, it’s time to create the blog.</p>
<p>If you’re working in RStudio, like I am, you’ve got two options here:</p>
<ol type="1">
<li>Use <code>File &gt; New Project &gt; New Directory &gt; Quarto Blog</code> inside RStudio.</li>
<li>Run the following command in your terminal:</li>
</ol>
<pre><code>quarto create-project myblog --type website:blog</code></pre>
<p>This command will create a blog called <code>myblog</code> in your current working directory. You can, of course, substitute <code>myblog</code> with another preferred blog name.</p>
<p>I chose option number 1. Quarto created an R project file for me, and it also gave me the option to initialize a Git repository at the same time, which I gladly accepted.</p>
</section>
<section id="project-files-and-directories" class="level2">
<h2 class="anchored" data-anchor-id="project-files-and-directories">Project files and directories</h2>
<p>The quarto project was then initialized. A number of project files and directories were created. Here’s a brief explanation of the purpose of some of these:</p>
<p><code>_quarto.yml</code> is the quarto project file, where you can specify several parameters, such as the blog name, Twitter and LinkedIn addresses, blog theme etc. This is also where you specify the output directory for all rendered quarto posts.</p>
<p><code>index.qmd</code> is used to configure the blog home page, where all the quarto posts are listed.</p>
<p><code>about.qmd</code> is where the information about the blog and its author goes.</p>
<p>The <code>posts/</code> directory is where the individual blog posts live.</p>
<p>In <code>posts/_metadata.yml</code>, you can configure options for how your posts should be rendered.</p>
<p>You can specify custom CSS styles in <code>styles.css</code>.</p>
</section>
<section id="create-a-new-post" class="level2">
<h2 class="anchored" data-anchor-id="create-a-new-post">Create a new post</h2>
<p>To create a new post, create a sub-directory within the <code>posts/</code> directory. Then, create a file called <code>index.qmd</code>.</p>
<p>You’ll want to start your post with a YAML header that looks something like this:</p>
<pre><code>---
title: "How to create a blog using quarto"
author: "Matt Dennis"
date: "2022-07-18"
categories: [quarto]
image: "quarto-blog-create.jpeg"
draft: true
---</code></pre>
<p>Quarto will automatically tag your post with the entries specified next to <code>categories</code>. By default, these tags show up on the home page in a nice organised way.</p>
<p>The <code>image</code> parameter is used to set the image that will appear next to the title of this post on the home page. The file that it references should be in the same directory as <code>index.qmd</code>.</p>
<p>When <code>draft</code> is set to <code>true</code>, the post will not be included in the listing, site map, or site search, even when rendered. This is useful if you want to push new posts to a live site without making them visible until they are complete. Set this parameter to <code>false</code> when you’re ready to publish the post.</p>
</section>
<section id="rendering-previewing" class="level2">
<h2 class="anchored" data-anchor-id="rendering-previewing">Rendering &amp; previewing</h2>
<p>To render all posts in the blog, use the following command:</p>
<pre><code>quarto render</code></pre>
<p>Once you’ve done this, you can preview your blog in a web browser by running the following command:</p>
<pre><code>quarto preview</code></pre>
<p>Every time you save new changes to a file in <code>posts/</code>, the preview will update accordingly. To stop the preview, just terminate the process (<code>Ctrl+C</code>).</p>
</section>
<section id="publishing-to-github" class="level2">
<h2 class="anchored" data-anchor-id="publishing-to-github">Publishing to GitHub</h2>
<p>It’s really easy to publish to GitHub.</p>
<p>Make sure that the following directories are not in version control:</p>
<ol type="1">
<li><code>/.quarto/</code></li>
<li><code>_site/</code></li>
<li><code>docs/</code> (this is the output directory I have specified in <code>_quarto.yml</code>)</li>
</ol>
<p>There are two options, publish manually or automatically.</p>
<section id="manually-publish" class="level3">
<h3 class="anchored" data-anchor-id="manually-publish">Manually publish</h3>
<p>First, create a <code>gh-pages</code> branch. Then, in GitHub under <code>Settings &gt; Pages</code>, select the <code>gh-pages</code> branch to be the source branch, and the root folder to be the source folder.</p>
<p>Then, run the following command to publish to a GitHub pages site:</p>
<pre><code>quarto publish gh-pages</code></pre>
<p>This will publish the currently rendered site to GitHub pages.</p>
</section>
<section id="automatically-publish-via-a-github-actions-workflow" class="level3">
<h3 class="anchored" data-anchor-id="automatically-publish-via-a-github-actions-workflow">Automatically publish via a GitHub Actions workflow</h3>
<p>I prefer this option. First, create a GitHub workflows sub-directory at this location: <code>.github/workflows/</code>. Within this directory, you need to create a GitHub workflow file. You can take a look at what mine looks like in the repository - it’s called <code>publish.yml</code>. I’ve just copied mine verbatim from <a href="https://quarto.org/docs/publishing/github-pages.html#publish-action">here</a>.</p>
<p>One of the downsides of using GitHub Actions is that you have to re-create your development environment on the virtual machine that will execute it (or risk having failed jobs in your GitHub workflow). Fortunately, the <code>{renv}</code> package makes this very easy.</p>
<p>To use <code>{renv}</code>, you’ll need to make use of the following two commands:</p>
<pre><code># Initialise virtual environment
renv::init()
# Take a snapshot of current environment
renv::snapshot()</code></pre>
<p>These commands create and update <code>renv.lock</code> with the list of required packages and their versions. <code>renv.lock</code> should be version controlled, as it will be used to create the virtual environment when the GitHub workflow is executed.</p>
</section>
</section>
<section id="freeze" class="level2">
<h2 class="anchored" data-anchor-id="freeze">Freeze</h2>
<p>There are times when you probably don’t want to re-render old posts. In fact, it’s probably only useful to have old posts re-render if you want your post to reflect changes in the underlying data.</p>
<p>You can “freeze” posts by specifying the following option in the YAML header of a post:</p>
<pre><code>execute:
  freeze: true</code></pre>
<p>It’s probably more useful to apply this as a general rule, which you can do in <code>posts/_metadata.yml</code>. Just paste <code>freeze: true</code> into that file, and it will automatically prevent all rendered posts from being re-rendered, unless <code>freeze: auto</code> is specified in a certain post. The <code>auto</code> option will cause the post to be re-rendered only if there is a change to the post.</p>
<p>All “frozen” posts are stored in the <code>_freeze/</code> directory. You can remove old frozen posts by deleting them from this folder.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>